# LAB 1

## Authors

Adrien

## 1 - Creating and Running a Process (1) - fork

### 1.1 & 1.2

Fork creates a new process by duplicating the calling process. This new process is refferenced as the "child process".

The child process has a unique PID, different from his parent process.

fork() returns the PID of the child process in the parent process, and 0 in the child process.

### 1.3 Parent Child Program

see code file

### 1.4 

```
int i = 5;
if (fork() == 0)
{ 
// I’m the child
    i++;
    printf("%d\n", i); //I added this line to verify that this line was indeed executed
} else {
    // I’m the parent process 
    sleep(3); // sleep for 3 seconds ; why ?
    printf("%d\n", i); }
```

If we compile and run this code (see full code here), it outputs :
```
6
5
```
You can see that the condition if(fork()=0) is true inside the child process.

### 1.5 

See this code.

## 2 - Creating and running a process (2) - exec 

### 2.1 

The  exec()  family  of functions replaces the current process image with a new process image.

There are several functions from this family :
```
    int execl(char const *path, char const *arg0, ...);
    int execle(char const *path, char const *arg0, ..., char const *envp[]);
    int execlp(char const *file, char const *arg0, ...);
    int execv(char const *path, char const *argv[]);
    int execve(char const *path, char const *argv[], char const *envp[]);
    int execvp(char const *file, char const *argv[]);
    int fexecve(int fd, char *const argv[], char *const envp[]);
```

The base of each is exec (execute), followed by one or more letters:

    e – An array of pointers to environment variables is explicitly passed to the new process image.
    l – Command-line arguments are passed individually (a list) to the function.
    p – Uses the PATH environment variable to find the file named in the file argument to be executed.
    v – Command-line arguments are passed to the function as an array (vector) of pointers.

We use execvp(*char[]) to execute a program. We've putted the full path of the executable ("/usr/bin/firefox").


